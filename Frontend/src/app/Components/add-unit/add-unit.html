<section class="add-property">
  <div class="container">
    <div class="property-form">
      <h3>Add New Unit üè°</h3>
      <form
        [formGroup]="unitForm"
        (ngSubmit)="onSubmit()"
        enctype="multipart/form-data"
      >
        <div class="form-group">
          <label for="title">Title <span class="required">*</span></label>
          <input
            type="text"
            id="title"
            formControlName="title"
            class="form-control"
            placeholder="Enter unit title"
          />
          <div
            *ngIf="unitForm.get('title')?.invalid && unitForm.get('title')?.touched"
            class="error-message"
          >
            Title is required.
          </div>
        </div>

        <div class="form-group">
          <label for="description"
            >Description <span class="required">*</span></label
          >
          <textarea
            id="description"
            formControlName="description"
            class="form-control"
            rows="4"
            placeholder="Enter detailed unit description"
          ></textarea>
          <div
            *ngIf="unitForm.get('description')?.invalid && unitForm.get('description')?.touched"
            class="error-message"
          >
            Description is required.
          </div>
        </div>

        <div class="form-group">
          <label for="unitType"
            >Unit Type <span class="required">*</span></label
          >
          <select id="unitType" formControlName="unitType" class="form-control">
            <option value="" disabled selected>Select unit type</option>
            <option *ngFor="let type of unitTypes" [value]="type.value">
              {{ type.label }}
            </option>
          </select>
          <div
            *ngIf="unitForm.get('unitType')?.invalid && unitForm.get('unitType')?.touched"
            class="error-message"
          >
            Unit type is required.
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="bedrooms"
              >Number of Bedrooms <span class="required">*</span></label
            >
            <input
              type="number"
              id="bedrooms"
              formControlName="bedrooms"
              class="form-control"
              placeholder="e.g., 2"
            />
            <div
              *ngIf="unitForm.get('bedrooms')?.invalid && unitForm.get('bedrooms')?.touched"
              class="error-message"
            >
              Number of bedrooms is required.
            </div>
          </div>
          <div class="form-group col-md-4">
            <label for="bathrooms"
              >Number of Bathrooms <span class="required">*</span></label
            >
            <input
              type="number"
              id="bathrooms"
              formControlName="bathrooms"
              class="form-control"
              placeholder="e.g., 1"
            />
            <div
              *ngIf="unitForm.get('bathrooms')?.invalid && unitForm.get('bathrooms')?.touched"
              class="error-message"
            >
              Number of bathrooms is required.
            </div>
          </div>
          <div class="form-group col-md-4">
            <label for="sleeps"
              >Number of Guests (Capacity)
              <span class="required">*</span></label
            >
            <input
              type="number"
              id="sleeps"
              formControlName="sleeps"
              class="form-control"
              placeholder="e.g., 4"
            />
            <div
              *ngIf="unitForm.get('sleeps')?.invalid && unitForm.get('sleeps')?.touched"
              class="error-message"
            >
              Number of guests is required.
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="distanceToSea"
              >Distance to Sea (meters) <span class="required">*</span></label
            >
            <input
              type="number"
              id="distanceToSea"
              formControlName="distanceToSea"
              class="form-control"
              placeholder="Enter distance in meters"
            />
            <div
              *ngIf="unitForm.get('distanceToSea')?.invalid && unitForm.get('distanceToSea')?.touched"
              class="error-message"
            >
              Distance to sea is required.
            </div>
          </div>
          <div class="form-group col-md-6">
            <label for="basePricePerNight"
              >Base Price Per Night <span class="required">*</span></label
            >
            <input
              type="number"
              id="basePricePerNight"
              formControlName="basePricePerNight"
              class="form-control"
              placeholder="Enter price in EGP"
            />
            <div
              *ngIf="unitForm.get('basePricePerNight')?.invalid && unitForm.get('basePricePerNight')?.touched"
              class="error-message"
            >
              Price is required.
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="address"
              >Detailed Address <span class="required">*</span></label
            >
            <input
              type="text"
              id="address"
              formControlName="address"
              class="form-control"
              placeholder="Enter address"
            />
            <div
              *ngIf="unitForm.get('address')?.invalid && unitForm.get('address')?.touched"
              class="error-message"
            >
              Address is required.
            </div>
          </div>
          <div class="form-group col-md-6">
            <label for="villageName"
              >Village/Resort Name <span class="required">*</span></label
            >
            <input
              type="text"
              id="villageName"
              formControlName="villageName"
              class="form-control"
              placeholder="Enter village/resort name"
            />
            <div
              *ngIf="unitForm.get('villageName')?.invalid && unitForm.get('villageName')?.touched"
              class="error-message"
            >
              Village name is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Amenities</label>
          <div class="amenities-checkboxes">
            <div *ngFor="let amenity of amenities" class="form-check">
              <input
                type="checkbox"
                [value]="amenity.id"
                (change)="onAmenityChange($event)"
                class="form-check-input"
                [id]="'amenity-' + amenity.id"
              />
              <label class="form-check-label" [for]="'amenity-' + amenity.id"
                >{{ amenity.name }}</label
              >
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="contractDocument"
            >Ownership Document/Contract <span class="required">*</span></label
          >
          <input
            type="file"
            id="contractDocument"
            (change)="onContractFileSelected($event)"
            class="form-control"
            accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
          />
          <div
            *ngIf="unitForm.get('contractDocument')?.invalid && unitForm.get('contractDocument')?.touched"
            class="error-message"
          >
            Ownership document is required.
          </div>
        </div>

        <!-- <div class="form-group">
          <label for="unitImages"
            >Unit Images/ <span class="required">*</span></label
          >
          <input
            type="file"
            id="unitImages"
            (change)="onUnitFileSelected($event)"
            class="form-control"
            accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
            multiple
          />
          <div
            *ngIf="unitForm.get('unitImages')?.invalid && unitForm.get('unitImages')?.touched"
            class="error-message"
          >
            Ownership document is required.
          </div>
        </div> -->

        <div class="form-group">
          <label for="unitImages"
            >Unit Images/ <span class="required">*</span></label
          >
          <input
            type="file"
            id="unitImages"
            (change)="onUnitFileSelected($event)"
            class="form-control"
            accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
            multiple
          />
          <div
            *ngIf="unitForm.get('unitImages')?.invalid && unitForm.get('unitImages')?.touched"
            class="error-message"
          >
            Ownership document is required.
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="unitForm.invalid"
        >
          Add Unit
        </button>
      </form>
    </div>
  </div>
</section>
