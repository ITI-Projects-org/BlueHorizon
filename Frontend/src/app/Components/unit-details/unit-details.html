<div *ngIf="loading" class="spinner-container">
  <mat-spinner></mat-spinner>
</div>
<div *ngIf="error && !loading" class="error-message">
  {{ error }}
</div>
<div *ngIf="unit && !loading && !error" class="unit-details-container">
  <h2>{{ unit.title }}</h2>
  <p><strong>Owner:</strong> {{ unit.ownerName }}</p>
  <p><strong>Description:</strong> {{ unit.description }}</p>
  <p><strong>Type:</strong> {{ unit.unitType }}</p>
  <p><strong>Bedrooms:</strong> {{ unit.bedrooms }}</p>
  <p><strong>Bathrooms:</strong> {{ unit.bathrooms }}</p>
  <p><strong>Sleeps:</strong> {{ unit.sleeps }}</p>
  <p><strong>Distance to Sea:</strong> {{ unit.distanceToSea }} m</p>
  <p><strong>Base Price Per Night:</strong> {{ unit.basePricePerNight | currency }}</p>
  <p><strong>Address:</strong> {{ unit.address }}</p>
  <p><strong>Village:</strong> {{ unit.villageName }}</p>
  <p><strong>Created:</strong> {{ unit.creationDate | date:'mediumDate' }}</p>
  <div class="rating">
    <strong>Average Rating:</strong>
    <ng-container *ngIf="unit.averageUnitRating !== null">
      <span *ngFor="let star of [1,2,3,4,5]">
        <mat-icon color="warn">{{ star <= (unit.averageUnitRating || 0) ? 'star' : 'star_border' }}</mat-icon>
      </span>
      ({{ unit.averageUnitRating }})
    </ng-container>
    <ng-container *ngIf="unit.averageUnitRating === null">No ratings</ng-container>
  </div>
  <div *ngIf="unit.unitImages && unit.unitImages.length" class="carousel-container">
    <mat-carousel [timings]="'250ms ease-in'" [autoplay]="true" [interval]="5000" [loop]="true" [hideArrows]="false" [hideIndicators]="false" [color]="'accent'">
      <mat-carousel-slide *ngFor="let img of unit.unitImages" [image]="img"></mat-carousel-slide>
    </mat-carousel>
  </div>
</div>
